var CSN_EXTENSION_DEBUG=!1;!function(t){"use strict";if(!CSN_EXTENSION_DEBUG)return!0;$('<div id="mocha"></div>').appendTo("body"),mocha.setup("bdd");var e=chai.expect,o=(chai.should(),t.scraper);describe("Scraper.getSongUrl() with Anh cu di di - Hari Won",function(){var t;before(function(e){o.getSongUrl("http://chiasenhac.vn/mp3/vietnam/v-pop/anh-cu-di-di~hari-won~tsvtww56qf99hk.html",function(o){console.info(o),t=o,e()})}),it("should return a valid song object which has .title and .urls[]",function(){e(t).to.be.a("object"),e(t).to.have.property("title"),e(t.urls).to.be.a("array")}),it("`-- with correct song title",function(){e(t.title).to.equal("Anh Cứ Đi Đi - Hari Won")}),it("`-- with a list of direct download links",function(){var o=t.urls[0];e(o).to.have.property("type"),e(o).to.have.property("size"),e(o).to.have.property("url")}),it("has file type of 128kbps",function(){var o=t.urls;e(o.filter(function(t){return"128kbps"==t.type}).length).to.equal(1)}),it("has file type of 320kbps",function(){var o=t.urls;e(o.filter(function(t){return"320kbps"==t.type}).length).to.equal(1)}),it("has file type of 500kbps",function(){var o=t.urls;e(o.filter(function(t){return"500kbps"==t.type}).length).to.equal(1)}),it("has file type of Lossless",function(){var o=t.urls;e(o.filter(function(t){return"Lossless"==t.type}).length).to.equal(1)}),it('has none of the urls contains "login.php"',function(){var o=t.urls;e(o).to.have.length.above(0),e(o.filter(function(t){return!!t.url.match(/login\.php/i)}).length).to.equal(0)})}),0!==$("#playlist table").size()&&describe("Scraper.getSongList()",function(){var t;before(function(){t=o.getSongList()}),it("should return a valid object",function(){e(t).to.be.a("object"),e(t).to.have.property("title"),e(t).to.have.property("cover_image");var o=t.songs[0];e(o).to.have.property("url")})}),mocha.run()}(window);