"use strict";!function(e){e.cookies.get({url:"https://*.facebook.com",name:"c_user"},function(t){if(null===t){if("notifications"in e){var o=e.extension.getURL("images/juno_okyo.png");e.notifications.create({type:"basic",iconUrl:o,appIconMaskUrl:o,title:e.i18n.getMessage("appName"),message:e.i18n.getMessage("error")+": "+e.i18n.getMessage("facebookLoginError")+"."})}window.top.location.replace("https://www.facebook.com/login")}else e.storage.sync.get({replace_emoji:!1,restore_pacman_emoticon:!1},function(t){jQuery(document).ready(function(o){new Vue({el:"#main",data:{options:t,saved:!1,loading:!0,error:!1},methods:{saveOptions:function(){var t=this;e.storage.sync.set(this.options,function(){e.runtime.lastError||(t.saved=!0,setTimeout(function(){t.saved=!1},1500),e.storage.sync.get(function(t){e.runtime.sendMessage({cmd:"update_options",options:t})}))})}},mounted:function(){var t=this;e.runtime.onMessage.addListener(function(e,o,n){"facebook_authentication_response"===e.cmd.toLowerCase()&&e.data&&e.user&&fetch("https://graph.facebook.com/fql?q=SELECT%20uid%20FROM%20group_member%20WHERE%20gid=364997627165697%20AND%20uid=me()&access_token="+e.data).then(function(e){return e.json()}).then(function(o){t.error=!(o.data&&o.data.length>0&&o.data[0].uid===e.user.id),t.loading=!1})}),e.runtime.sendMessage({cmd:"facebook_authentication"})}})})})})}(chrome);