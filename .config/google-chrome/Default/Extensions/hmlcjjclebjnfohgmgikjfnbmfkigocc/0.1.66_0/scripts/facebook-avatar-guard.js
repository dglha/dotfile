"use strict";!function(e){e.runtime.sendMessage({cmd:"track_page_view",path:"/facebook-avatar-guard.html"}),e.cookies.get({url:"https://*.facebook.com",name:"c_user"},function(a){if(null!==a)e.storage.sync.get({facebook_avatar_guard:!1},function(t){new Vue({el:"#juno_okyo",data:{authentication:null,user_id:a.value,enable:t.facebook_avatar_guard,loading:!1},methods:{updateGuard:function(){var a=this,t=!this.enable;this.loading=!0,fetch("https://code.junookyo.xyz/j2team-security/api/profile_picture_guard/?uid="+this.user_id+"&value="+t,{headers:{"x-authentication":this.authentication}}).then(function(e){return e.json()}).then(function(o){o.success&&(e.storage.sync.set({facebook_avatar_guard:t}),a.enable=t),a.loading=!1})}},mounted:function(){var a=this;e.runtime.onMessage.addListener(function(e,t,o){var n=e.cmd.toLowerCase();switch(n){case"facebook_authentication_response":e.data&&(a.authentication=e.data)}}),e.runtime.sendMessage({cmd:"facebook_authentication"})}})});else{if("notifications"in e){var t=e.extension.getURL("images/juno_okyo.png");e.notifications.create({type:"basic",iconUrl:t,appIconMaskUrl:t,title:e.i18n.getMessage("appName"),message:e.i18n.getMessage("error")+": "+e.i18n.getMessage("facebookLoginError")+"."})}window.top.location.replace("https://www.facebook.com/login")}})}(chrome);