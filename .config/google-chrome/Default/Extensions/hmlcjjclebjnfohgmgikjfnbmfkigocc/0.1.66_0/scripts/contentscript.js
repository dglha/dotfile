"use strict";!function(e,t){function n(){if(null!==document.querySelector('[rel="chrome-webstore-item"]'))return!0;try{return"function"==typeof t.webstore.install}catch(e){return!1}return!1}function o(){return(null!==document.getElementById("yt-masthead")||null!==document.getElementById("yt-masthead-container")||null!==document.getElementById("yt-masthead-logo-fragment")||null!==document.getElementById("yt-masthead-signin")||null!==document.getElementById("yt-masthead-content"))&&e.top.location.hostname.indexOf(".youtube.com")===-1}function c(t,n,o){e.console&&e.console.log&&e.console.log(t,n,o)}function d(e,n){try{e.onbeforeunload=null,n(e).off("beforeunload").unbind("beforeunload"),t.webstore.install=c}catch(o){}}function l(){try{var t=Object.keys(CoinHive).length;t&&e.postMessage({cmd:"block_miner"},e.top.location.protocol+"//"+e.top.location.hostname)}catch(n){var o=document.getElementById("x-test-ch");null!==o&&o.remove()}}if(n()&&o()){var r=document.createElement("script");r.appendChild(document.createTextNode("("+d+")(window, jQuery);")),(document.body||document.head||document.documentElement).appendChild(r),t.runtime.sendMessage({cmd:"block_page",type:"malware"})}t.storage.sync.get({blockCryptocurrencyMining:!0},function(n){if(n.blockCryptocurrencyMining){e.addEventListener("message",function(e){if(e.isTrusted)switch(e.data.cmd){case"block_miner":t.runtime.sendMessage({cmd:"block_page",type:"miner"})}},!1);var o=document.createElement("script");o.id="x-test-ch",o.appendChild(document.createTextNode("("+l+")();")),(document.body||document.head||document.documentElement).appendChild(o)}})}(window,chrome);