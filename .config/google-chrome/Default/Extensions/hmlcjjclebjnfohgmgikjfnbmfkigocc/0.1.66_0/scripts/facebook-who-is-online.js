"use strict";!function(e){e.runtime.sendMessage({cmd:"track_page_view",path:"/facebook-who-is-online.html"}),e.cookies.get({url:"https://*.facebook.com",name:"c_user"},function(n){if(null===n){if("notifications"in e){var t=e.extension.getURL("images/juno_okyo.png");e.notifications.create({type:"basic",iconUrl:t,appIconMaskUrl:t,title:e.i18n.getMessage("appName"),message:e.i18n.getMessage("error")+": "+e.i18n.getMessage("facebookLoginError")+"."})}window.top.location.replace("https://www.facebook.com/login")}else new Vue({el:"#main",data:{loading:!1,error:!1,access_token:null,result:[]},methods:{getData:function(){var e=this;fetch("https://graph.facebook.com/fql?q=SELECT%20uid,%20name,%20pic_square,%20online_presence%20FROM%20user%20WHERE%20online_presence%20IN%20(%27active%27,%20%27idle%27)%20AND%20uid%20IN%20(SELECT%20uid2%20FROM%20friend%20WHERE%20uid1%20=%20me())%20AND%20uid%20!=%20100003880469096&access_token="+this.access_token).then(function(e){return e.json()}).then(function(n){e.result=n.data,e.loading=!1})}},mounted:function(){var n=this;this.loading=!0,e.runtime.sendMessage({cmd:"facebook_authentication"}),e.runtime.onMessage.addListener(function(e,t,o){"facebook_authentication_response"===e.cmd&&e.data&&(n.access_token=e.data,n.getData())})}})})}(chrome);